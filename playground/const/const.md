# const

C++는 2가지 의미의 불변성을 지원한다.

* `const`
	+ "이 값을 바꾸지 않는다고 약속함"의 의미로, 함수에 pointer나 참조 혀애로 전달되는 data를 변경하지 않는다는 사실을 interface에 명시하고 싶을 때 사용한다.
	+ Compiler는 `const`로 명시된 약속을 지키도록 강제한다.
	+ `const`의 값을 실행 시간에 계산할 수 있다.
* `constexpr`
	+ "이 값을 compile 시간에 평가함"의 의미로, 주로 해당 data를 상수로 지정해 read-only memory에 저장하거나 성능상의 목적으로 사용한다.
	+ `constexpr`의 값은 반드시 compile 시간에 계산된다.

상수 표현식, 즉 compiler에 의해 평가되는 표현식 안에서 함수를 사용하려면 그 함수도 `constexpr`로 정의해야 한다.

`constexpr` 함수에 상수가 아닌 인자를 사용할 수도 있지만, 그럴 경우 그 결과는 상수 표현식이 아니다. 즉, 상수 표현식이 요구되지 않는 곳에서는 `constexpr` 함수에 상수가 아닌 표현식을 인자로 사용하는 것을 허용한다. 이렇게 함으로써 같은 함수를 상수 version과 상수가 아닌 version으로 두 번 정의하는 불편함을 피할 수 있다.

함수를 `constexpr`로 정의하려면 함수의 내용이 간단하고 부수 효과가 없어야 하며, 인자로 전달된 정보만 사용해야 한다. 특히 지역 변수가 아닌 변수는 변경할 수 없다. 그러나 loop를 사용하거나 내부에 지역 변수를 정의할 수 있다.
